<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Jobber: A replacement for cron, with sophisticated status-reporting and error-handling." />

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css" />

    <title>Jobber: A replacement for cron, with sophisticated status-reporting and error-handling.</title>
  </head>

  <body itemscope itemtype="http://schema.org/SoftwareApplication">

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/dshearer/jobber">View on GitHub</a>

          <h1 id="project_title" itemprop="name">Jobber</h1>
          <h2 id="project_tagline">A replacement for cron, with sophisticated status-reporting and error-handling.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/dshearer/jobber/zipball/master" itemprop="downloadUrl">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/dshearer/jobber/tarball/master" itemprop="downloadUrl">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
        <nav id="toc">
            <ul>
            <li id="top_link" style="visibility:hidden"><a href="#">[top]</a></li>
            <li><a href="#intro">Intro</a></li>
            <li><a href="#license">License</a></li>
            <li><a href="#project-status">Project Status</a></li>
            <li><a href="#target-systems">Target Systems</a></li>
            <li><a href="#installation">Installation</a></li>
            <li>
                <a href="#usage">Usage</a>
                <ul>
                <li><a href="#defining-jobs">Defining Jobs</a></li>
                <li><a href="#loading-jobs">Loading Jobs</a></li>
                <li><a href="#listing-jobs">Listing Jobs</a></li>
                <li><a href="#listing-runs">Listing Runs</a></li>
                <li><a href="#testing-jobs">Testing Jobs</a></li>
                </ul>
            </li>
            </ul>
        </nav>
        
      <section id="main_content" class="inner">

<h1>
<a id="intro" class="anchor" href="#intro" aria-hidden="true"><span class="octicon octicon-link"></span></a>Intro</h1>

<p itemprop="description">Jobber is a <span itemprop="applicationCategory">utility</span> for Unix-like systems that can run arbitrary commands, or &ldquo;jobs&rdquo;, according to a schedule.  It is meant to be a replacement for the classic Unix utility <a href="http://en.wikipedia.org/wiki/Cron">cron</a>.</p>

<p>Along with the functionality of cron, Jobber also provides:</p>

<ul itemprop="featureList">
<li>
<strong>Job execution history</strong>: you can see what jobs have recently run, and whether they succeeded or failed.</li>
<li>
<strong>Sophisticated error handling</strong>: you can control whether and when a job is run again after it fails.  For example, after an initial failure of a job, Jobber can schedule future runs using an exponential backoff algorithm.</li>
<li>
<strong>Sophisticated error reporting</strong>: you can control whether Jobber notifies you about each failed run, or only about jobs that have been disabled due to repeated failures.</li>
</ul>

<h1><a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h1>

<p>Jobber's source code is copyright &#0169; <span itemprop="copyrightYear">2014</span> <span itemprop="copyrightHolder" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Charles Dylan Shearer</span></span>.  It is licensed according to the MIT License:</p>

<div itemprop="license" itemscope itemtype="http://schema.org/CreativeWork">
<pre itemprop="text">
The MIT License (MIT)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</pre>
</div>

<h1><a id="project-status" class="anchor" href="#project-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project Status</h1>

<p>Jobber is curerntly at a &ldquo;beta&rdquo; level of maturity.  The largest open task is to do a thorough security review &mdash; specifically, a review of how Jobber maintains privilege separation between different users' jobs.</p>

<h1><a id="target-systems" class="anchor" href="#target-systems" aria-hidden="true"><span class="octicon octicon-link"></span></a>Target Systems</h1>

<p itemprop="requirements">Jobber is written in <a href="http://golang.org/">Go</a>, and it should be possible to compile and run it on <span itemprop="operatingSystem">any modern Unix-like system</span>.  However, at this time its installation script targets RHEL, Fedora, and CentOS.  (Actually, it has only been tested on CentOS....)</p>

<h1><a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h1>

<p>You need a recent version of <a href="http://golang.org/">Go</a> to compile Jobber.  Once you've installed Go and set up your Go workspace, you can build it thus:</p>

<pre><code>cd /path/to/your/workspace
go get github.com/dshearer/jobber
make -C src/github.com/dshearer/jobber
</code></pre>

<p>As mentioned above, Jobber's installation script currently targets RHEL-like systems.  If you are on such a system, you can install Jobber thus:</p>

<pre><code>cd /path/to/your/workspace
sudo make install
</code></pre>

<h1><a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<h2><a id="defining-jobs" class="anchor" href="#defining-jobs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Defining Jobs</h2>

<p>As with cron, each user can have its own set of jobs, which will be run under that user&rsquo;s privileges.  A user&rsquo;s jobs are defined in a file named &ldquo;.jobber&rdquo; in the user&rsquo;s home directory.  Jobfiles are written in YAML format.  Here's an example:</p>

<pre><code>---
- name: DailyBackup
  cmd: backup daily
  time: 0 0 13
  onError: Stop

- name: WeeklyBackup
  cmd: backup weekly
  time: 0 0 14 * * 1
  onError: Stop</code></pre>

<p>This jobfile defines two jobs.  Field &ldquo;name&rdquo; is self-explanatory.  Field &ldquo;cmd&rdquo; can contain any Bash script.</p>

<h3><a id="field-time" class="anchor" href="#field-time" aria-hidden="true"><span class="octicon octicon-link"></span></a>Field &ldquo;time&rdquo;</h3>

<p>Field &ldquo;time&rdquo; specifies when the job is run, in a manner similar to how cron jobs&rsquo; schedules are specified: with a space-separated list of up to six specifiers, which can be numerals or &ldquo;*&rdquo;.  The first specifier constrains the second value of a given time, the second constrains to the minute value, the third to the hour value, the fourth to the day of the month, the fifth to the month, and the sixth to the day of the week.  A job is scheduled thus: a job will run at the next time that satisfies all of these specifiers.</p>

<p>Thus, &ldquo;DailyBackup&rdquo; is run whenever the current time is 13:00:00 (i.e., 1 PM), no matter the day, whereas &ldquo;WeeklyBackup&rdquo; is run whenever the current time is 14:00:00 (i.e., 2 PM) and the current weekday is Monday.</p>

<h3><a id="fields-onerror-notifyonerror-and-notifyonfailure" class="anchor" href="#fields-onerror-notifyonerror-and-notifyonfailure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fields &ldquo;onError&rdquo;, &ldquo;notifyOnError&rdquo;, and &ldquo;notifyOnFailure&rdquo;</h3>

<p>When discussnig jobs, by &ldquo;job error&rdquo; we mean the failure of a particular run of a job, whereas by &ldquo;job failure&rdquo; we mean a job that jobber has decided not to schedule anymore due to one or more recent job errors.  Jobber considers a run to have failed when the command (in field &ldquo;cmd&rdquo;) returns a non-0 exit status.</p>

<p>Field &ldquo;onError&rdquo; specifies what jobber will do when a job error occurs.  The possible values:</p>

<ul>
<li>&ldquo;Stop&rdquo;: <em>Stop scheduling runs of this job.</em>  That is, a single job error results in a job failure.</li>
<li>&ldquo;Backoff&rdquo;: <em>Schedule runs of this job according to an exponential backoff algorithm.</em>  If a later run of the job succeeds, jobber resumes scheduling this job normally; but if the job fails again on several consecutive runs, jobber stops scheduling it &amp;emdash; that is, the job fails.</li>
<li>&ldquo;Continue&rdquo;: <em>Continue scheduling this job normally.</em>  That is, the job will never fail.</li>
</ul>

<p>Fields &ldquo;notifyOnError&rdquo; and &ldquo;notifyOnFailure&rdquo; control whether the user that owns a job is notified about job errors and job failures.</p>

<h2><a id="loading-jobs" class="anchor" href="#loading-jobs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Loading Jobs</h2>

<p>After you've created a user&rsquo;s jobfile, log in as that user and do:</p>

<pre><code>jobber reload</code></pre>

<p>You can also reload all users&rsquo; jobfiles by logging in as root and doing:</p>

<pre><code>jobber reload -a</code></pre>

<h2>
<a id="listing-jobs" class="anchor" href="#listing-jobs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Listing Jobs</h2>

<p>You can list the jobs for a particular user by logging in as that user and doing</p>

<pre><code>jobber list</code></pre>

<p>This command also shows you the status of each job &mdash; that is, whether the job is being scheduled as normal, the exponential backoff algorithm is being applied, or the job has failed.</p>

<p>As with the &ldquo;reload&rdquo; command, you can do the same for all users by adding the &ldquo;-a&rdquo; option as root.</p>

<h2><a id="listing-runs" class="anchor" href="#listing-runs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Listing Runs</h2>

<p>You can see a list of recent runs of any jobs for a particular user by logging in as that user and doing</p>

<pre><code>jobber log</code></pre>

<p>As with the other commands, you can do the same for all users by adding the &ldquo;-a&rdquo; option as root.</p>

<h2><a id="testing-jobs" class="anchor" href="#testing-jobs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing Jobs</h2>

<p>If you'd like to test out a job, do</p>

<pre><code>jobber test JOB_NAME</code></pre>

<p>Jobber will immediately run that job, tell you whether it succeeded, and show you its output.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Jobber maintained by <a href="https://github.com/dshearer">dshearer</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57172909-1', 'auto');
  ga('send', 'pageview');
</script>
    
<script>
var header = $('#header_wrap');
var toc = $('#toc');
var topLink = $('#top_link');

function repositionToc(event) {
    var scrollOffset = $(window).scrollTop();
    var headerBottom = header.offset().top + header.height();
    var headerRelBottom = headerBottom - scrollOffset;
    var newOffset = toc.offset();
    if (headerRelBottom >= 0) {
        newOffset.top = headerBottom;
        topLink.css('visibility', 'hidden');
    }
    else {
        newOffset.top = scrollOffset;
        topLink.css('visibility', 'visible');
    }
    toc.offset(newOffset);
}

$(window).scroll(repositionToc);
</script>


  </body>
</html>
