<section>
  <h3>
    Section
    <code>jobs</code>
  </h3>

  <p>This section defines the user&rsquo;s jobs.</p>

  <p>As stated above, this section must contain a YAML file that defines a
    sequence of mappings. Each mapping in this sequence defines a job.</p>

  <p>The fields of a job definition:</p>
  <table class="table">
    <thead>
      <tr>
        <th>Field</th>
        <th>Value</th>
        <th>Default Value</th>
      </tr>
    </thead>
    <tfoot></tfoot>
    <tbody>
      <tr>
        <td><code>name</code></td>
        <td>The name of the job.</td>
        <td>N/A</td>
      </tr>
      <tr>
        <td><code>cmd</code></td>
        <td>A shell script that is executed when this job runs. Jobber will
          use the shell at /bin/sh.</td>
        <td>N/A</td>
      </tr>
      <tr>
        <td><code>time</code></td>
        <td>A string specifying when the job should run. See <a
          href="#time-strings">below</a> for details.
        </td>
        <td><code>* * * * * *</code></td>
      </tr>
      <tr>
        <td><code>onError</code></td>
        <td>A string (<code>Stop</code>, <code>Backoff</code>, or <code>Continue</code>)
          specifying what should happen when the job has an error. See <a
          href="#error-handling">below</a> for details.
        </td>
        <td><code>Continue</code></td>
      </tr>
      <tr>
        <td><code>notifyOnError</code></td>
        <td>A string (<code>true</code> or <code>false</code>) specifying
          whether jobberd should notify when the job has an error. See <a
          href="#error-handling">below</a> for details.
        </td>
        <td><code>false</code></td>
      </tr>
      <tr>
        <td><code>notifyOnFailure</code></td>
        <td>A string (<code>true</code> or <code>false</code>) specifying
          whether jobberd should notify when the job fails. See <a
          href="#error-handling">below</a> for details.
        </td>
        <td><code>true</code></td>
      </tr>
    </tbody>
  </table>

  <h4 id="time-strings">Time Strings</h4>

  <p>
    Field
    <code>time</code>
    specifies the schedule at which a job is run, in a manner similar to how
    cron jobs&rsquo; schedules are specified: with a space-separated list of up
    to six specifiers, each one of which constrains a different component of
    time (second, minute, hour, etc.). Schematically:
  </p>

  <blockquote>
    <code>sec min hour month_day month week_day</code>
  </blockquote>

  <p>
    <strong>A job is scheduled thus:</strong> it will run at any time that
    satisfies all of the specifiers sec, min, hour, and month and one of the
    specifiers month_day and week_day.
  </p>

  <p>Each specifier can take one of the following forms: (&ldquo;a&rdquo;,
    &ldquo;b&rdquo;, &ldquo;c&rdquo;, and &ldquo;n&rdquo; are placeholders for
    arbitrary numerals.)</p>

  <table class="table">
    <thead>
      <tr>
        <th>Specifier Form</th>
        <th>What It Matches</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>*</code></td>
        <td>Any value</td>
      </tr>
      <tr>
        <td><code>a</code></td>
        <td>The value a</td>
      </tr>
      <tr>
        <td><code>*/n</code></td>
        <td>Every n-th value &mdash; e.g., <code>*/25</code> in the sec
          specifier would match 0, 25, and 50, whereas in the month specifier it
          would match 1 and 26.
        </td>
      </tr>
      <tr>
        <td><code>a,b,c,...</code></td>
        <td>The values a, b, c, ...</td>
      </tr>
      <tr>
        <td><code>a-b</code></td>
        <td>Any of the values between and including a and b</td>
      </tr>
    </tbody>
  </table>

  <p>The specifiers have different permitted values for the placeholders in
    the specifier forms:</p>

  <table class="table">
    <thead>
      <tr>
        <th>Specifier</th>
        <th>Values for &ldquo;a&rdquo;, &ldquo;b&rdquo;, and
          &ldquo;c&rdquo;</th>
        <th>Values for &ldquo;n&rdquo;</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>sec</td>
        <td><code>0</code> thru <code>59</code></td>
        <td><code>1</code> thru <code>59</code></td>
      </tr>
      <tr>
        <td>min</td>
        <td><code>0</code> thru <code>59</code></td>
        <td><code>1</code> thru <code>59</code></td>
      </tr>
      <tr>
        <td>hour</td>
        <td><code>0</code> thru <code>23</code></td>
        <td><code>1</code> thru <code>23</code></td>
      </tr>
      <tr>
        <td>month_day</td>
        <td><code>1</code> thru <code>31</code></td>
        <td><code>1</code> thru <code>30</code></td>
      </tr>
      <tr>
        <td>month</td>
        <td><code>1</code> thru <code>12</code></td>
        <td><code>1</code> thru <code>11</code></td>
      </tr>
      <tr>
        <td>week_day</td>
        <td><code>0</code> (Sunday) thru <code>6</code> (Saturday)</td>
        <td><code>1</code> thru <code>5</code></td>
      </tr>
    </tbody>
  </table>

  <aside>
    <p>
      <strong>NOTE:</strong> Because in a YAML document
      <code>*</code>
      has a special meaning at the beginning of an item, if your time string
      starts with
      <code>*</code>
      you must quote the whole string, thus:
      <code>time: '*/10'</code>
    </p>
  </aside>
</section>
